{% extends "base.html" %}

{% block title %}Team: {{ team.full_name }} - NBA Game Predictions{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/team.css') }}">
{% endblock %}

{% block content %}
<div class="team-page">
    <div class="team-header">
        <div class="team-info">
            <div class="team-logo-large">{{ team.abbreviation }}</div>
            <div class="team-details">
                <h1>{{ team.full_name }}</h1>
                <div class="team-record">
                    <span>Season Record: {{ team_stats.wins }}-{{ team_stats.losses }}</span>
                    <span>Conference: {{ team.conference }}</span>
                </div>
            </div>
        </div>
        <div class="team-stats">
            <div class="stat-card">
                <div class="stat-value">{{ team_stats.points_per_game | round(1) }}</div>
                <div class="stat-label">PPG</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ team_stats.rebounds_per_game | round(1) }}</div>
                <div class="stat-label">RPG</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ team_stats.assists_per_game | round(1) }}</div>
                <div class="stat-label">APG</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">{{ (team_stats.win_pct * 100) | round(1) }}%</div>
                <div class="stat-label">Win %</div>
            </div>
        </div>
    </div>
    
    <div class="team-content">
        <div class="roster-section">
            <h2>Team Roster</h2>
            <div class="player-grid">
                {% for player in roster %}
                <div class="player-card">
                    <div class="player-number">{{ player.jersey }}</div>
                    <div class="player-name">{{ player.name }}</div>
                    <div class="player-position">{{ player.position }}</div>
                    <div class="player-details">
                        <span>{{ player.height }}</span> |
                        <span>{{ player.weight }} lbs</span> |
                        <span>{{ player.age }} yrs</span>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div class="team-schedule">
            <h2>Upcoming Games</h2>
            <div class="schedule-grid">
                {% if upcoming_games %}
                    {% for game in upcoming_games %}
                    <div class="schedule-item">
                        <div class="game-date">{{ game.date }}</div>
                        <div class="game-matchup">
                            {% if game.is_home %}
                            vs {{ game.opponent }}
                            {% else %}
                            @ {{ game.opponent }}
                            {% endif %}
                        </div>
                        <div class="game-prediction">
                            {{ game.win_probability }}% chance to win
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="no-games">No upcoming games scheduled.</div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/team.js') }}"></script>
{% endblock %}